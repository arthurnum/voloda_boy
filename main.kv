<MainLayout>:
    cell_grid: cell_grid
    command_grid: command_grid
    canvas:
        Color:
            rgb: 1, 1, 1
        Rectangle:
            source: 'images/background.jpg'
            size: self.size
    FloatLayout:
        id: cell_grid
        size_hint: (0.7, 1.0)

    StackLayout:
        id: command_grid
        pos_hint: {'x': 0.725, 'y': 0.05}
        size_hint: (0.25, 0.9)
        canvas:
            Color:
                rgba: 11.0 / 255.0, 36.0 / 255.0, 59.0 / 255.0, .33
            Rectangle:
                pos: self.pos
                size: self.size
        spacing: 1
        Button:
            size_hint: (1.0, 0.1)
            text: 'Commands'
            on_press: root.open_command_popup()
        Button:
            size_hint: (1.0, 0.1)
            text: 'Run'
            on_press: root.run()


<Cell>:
    size_hint: (0.1, 0.1)
    canvas:
        Color:
            rgba: 11.0 / 255.0, 36.0 / 255.0, 59.0 / 255.0, .33
        Rectangle:
            pos: self.pos
            size: self.size
        BorderImage:
            border: 2, 2, 2, 2
            source: 'images/cell_border.png'
            pos: self.pos
            size: self.size

<Voloda>:
    size_hint: (0.1, 0.1)
    canvas:
        Color:
            rgba: 0.0, 0.0, 0.0, 1.0
        Ellipse:
            pos: self.pos
            size: self.size

<GoalDrop>:
    size_hint: (0.1, 0.1)
    canvas:
        Color:
            rgb: 0.8, 0.6, 0
        Rectangle:
            source: 'images/yves_guillou_drop.png'
            size: self.size
            pos: self.pos

<StartPoint>:
    size_hint: (0.1, 0.1)
    canvas:
        Color:
            rgba: 1, 1, 1, 0.75
        Rectangle:
            source: 'images/Letter-S-blue-icon.png'
            size: self.size
            pos: self.pos

<CommandLineWidget>:
    id_command_label: id_command_label
    text_command_label: text_command_label
    size_hint: (1.0, 0.075)
    canvas.before:
        Color:
            rgba: 1, 1, 1, 0
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'horizontal'
        pos: self.parent.pos
        size: self.parent.size
        Label:
            id: id_command_label
            size_hint: (0.15, 1.0)
            text_size: self.size
            halign: 'right'
            valign: 'middle'
        Label:
            id: text_command_label
            size_hint: (0.6, 1.0)

<Button>:
    background_normal: 'images/button_normal.png'
    background_down: 'images/button_down.png'
    border: [0, 0, 0, 0]

<DropScore>:
    size_hint: (0.06, 0.06)
    canvas:
        Color:
            rgba: 0.1, 0.1, 0.1, 0.66
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: 0.8, 0.8, 0.8, 0.75
        Rectangle:
            source: 'images/yves_guillou_drop.png'
            size: self.size
            pos: self.pos